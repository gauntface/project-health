{"version":3,"file":"always-preload.js","sources":["../../../../../src/static/base/js/utils/_onload.ts","../../../../../src/static/base/js/bootstrap/always-preload.ts"],"sourcesContent":["function OnLoad(f: () => void) {\n  window.addEventListener('load', f)\n  if (document.readyState == 'complete') {\n    f();\n  }\n}\n\nexport {OnLoad};","import {OnLoad} from '../utils/_onload';\n\nfunction analytics() {\n  (<any>window).dataLayer = [];\n\n  function gtag(...any: (string | Date)[]) {\n    (<any>window).dataLayer.push(arguments);\n  }\n  gtag('js', new Date());\n  gtag('config', 'UA-161686512-1');\n\n  const s = document.createElement('script');\n  s.src = \"https://www.googletagmanager.com/gtag/js?id=UA-161686512-1\";\n  document.body.appendChild(s);\n}\n\nfunction asyncPreloadCSS() {\n  const styles = document.querySelectorAll<HTMLLinkElement>('link[rel=\"preload\"][as=\"style\"]')\n  for (const s of styles) {\n    const l = document.createElement('link');\n    l.href = s.href;\n    l.rel = 'stylesheet';\n    document.head.appendChild(l);\n  }\n}\n\nfunction asyncDataSrc() {\n  const elements = document.querySelectorAll<HTMLIFrameElement>(\"[data-src]\");\n  for (const e of elements) {\n    e.src = e.dataset.src;\n  }\n}\n\nfunction run() {\n  analytics();\n  asyncDataSrc();\n  asyncPreloadCSS();\n}\n\nOnLoad(run);"],"names":["f","gtag","any","window","dataLayer","push","arguments","Date","s","document","createElement","src","body","appendChild","analytics","elements","querySelectorAll","e","dataset","asyncDataSrc","styles","l","href","rel","head","asyncPreloadCSS","addEventListener","readyState"],"mappings":"yBAAA,IAAgBA,EAAAA,ECiChB,YA/BA,WAGE,SAASC,KAAQC,GACTC,OAAQC,UAAUC,KAAKC,WAHzBH,OAAQC,UAAY,GAK1BH,EAAK,KAAM,IAAIM,MACfN,EAAK,SAAU,kBAEf,MAAMO,EAAIC,SAASC,cAAc,UACjCF,EAAEG,IAAM,6DACRF,SAASG,KAAKC,YAAYL,GAqB1BM,GARF,WACE,MAAMC,EAAWN,SAASO,iBAAoC,cAC9D,IAAK,MAAMC,KAAKF,EACdE,EAAEN,IAAMM,EAAEC,QAAQP,IAMpBQ,GAnBF,WACE,MAAMC,EAASX,SAASO,iBAAkC,mCAC1D,IAAK,MAAMR,KAAKY,EAAQ,CACtB,MAAMC,EAAIZ,SAASC,cAAc,QACjCW,EAAEC,KAAOd,EAAEc,KACXD,EAAEE,IAAM,aACRd,SAASe,KAAKX,YAAYQ,IAc5BI,IDnCAtB,OAAOuB,iBAAiB,OAAQ1B,GACL,YAAvBS,SAASkB,YACX3B"}